<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Combined Titles (You can customize this) -->
    <title>Admin Dashboard</title>

    <link rel="stylesheet" href="styles.css"> <!-- From the first HTML -->
</head>

<body>

<!-- From the first HTML (Admin Dashboard) -->
<h1>Admin Dashboard</h1>

<h2>Manage Products</h2>
<form action="/admin/products?action=add" method="post">
    <label for="productName">Product Name:</label>
    <input type="text" id="productName" name="productName" required>
    <button type="submit">Add Product</button>
</form>

<form action="/admin/products?action=update" method="put">
    <label for="productId">Product ID:</label>
    <input type="text" id="productId" name="productId" required>
    <label for="newProductName">New Product Name:</label>
    <input type="text" id="newProductName" name="newProductName">
    <button type="submit">Update Product</button>
</form>

<form action="/admin/products?action=delete" method="delete">
    <label for="deleteProductId">Product ID:</label>
    <input type="text" id="deleteProductId" name="deleteProductId" required>
    <button type="submit">Delete Product</button>
</form>

<h2>Manage Orders</h2>
<form action="/admin/orders?action=updateStatus" method="put">
    <label for="orderId">Order ID:</label>
    <input type="text" id="orderId" name="orderId" required>
    <label for="newStatus">New Status:</label>
    <input type="text" id="newStatus" name="newStatus" required>
    <button type="submit">Update Order Status</button>
</form>

<h2>Manage User Accounts</h2>
<form action="/admin/users?action=suspend" method="put">
    <label for="userId">User ID:</label>
    <input type="text" id="userId" name="userId" required>
    <label for="isSuspended">Suspend:</label>
    <select id="isSuspended" name="isSuspended">
        <option value="true">Yes</option>
        <option value="false">No</option>
    </select>
    <button type="submit">Update User Status</button>
</form>

<form action="/admin/users?action=delete" method="delete">
    <label for="deleteUserId">User ID:</label>
    <input type="text" id="deleteUserId" name="deleteUserId" required>
    <button type="submit">Delete User Account</button>
</form>

<!-- From the second HTML (Product Management) -->
<h1>Product List</h1>
<ul id="productList"></ul>

<h2>Add New Product</h2>
<form id="addProductForm">
    Name: <input type="text" id="productName2"><br>
    Description: <input type="text" id="productDescription"><br>
    Price: <input type="number" id="productPrice"><br>
    <input type="submit" value="Add Product">
</form>

<!-- From the third HTML (User Management) -->
<h1>User Management</h1>

<h2>Register</h2>
<form id="registerForm">
    Name: <input type="text" id="registerName"><br>
    Email: <input type="email" id="registerEmail"><br>
    Password: <input type="password" id="registerPassword"><br>
    <input type="submit" value="Register">
</form>

<h2>Login</h2>
<form id="loginForm">
    Email: <input type="email" id="loginEmail"><br>
    Password: <input type="password" id="loginPassword"><br>
    <input type="submit" value="Login">
</form>

<h2>Update Profile</h2>
<form id="updateForm">
    UserID: <input type="text" id="userId2"><br>
    Name: <input type="text" id="updateName"><br>
    Email: <input type="email" id="updateEmail"><br>
    Password: <input type="password" id="updatePassword"><br>
    <input type="submit" value="Update Profile">
</form>

<script>
    // Script from the second HTML (Product Management)
    const productListElem = document.getElementById('productList');
    const productForm = document.getElementById('addProductForm');
    const productNameElem2 = document.getElementById('productName2');  // Changed the ID to avoid duplication
    const productDescriptionElem = document.getElementById('productDescription');
    const productPriceElem = document.getElementById('productPrice');

    async function fetchProducts() {
        try {
            const response = await fetch('/products');
            const products = await response.json();
            productListElem.innerHTML = '';
            products.forEach(product => {
                const li = document.createElement('li');
                li.textContent = `${product.name} - ${product.description} - $${product.price}`;
                productListElem.appendChild(li);
            });
        } catch (error) {
            console.error('Error fetching products:', error);
        }
    }

    productForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const newProduct = {
            name: productNameElem2.value,
            description: productDescriptionElem.value,
            price: parseFloat(productPriceElem.value)
        };
        try {
            const response = await fetch('/products', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(newProduct),
            });
            const result = await response.json();
            if (response.ok) {
                fetchProducts();
            } else {
                console.error('Error adding product:', result.message);
            }
        } catch (error) {
            console.error('Error adding product:', error);
        }
    });
    fetchProducts();

    // Script from the third HTML (User Management)
    const registerForm = document.getElementById('registerForm');
    const loginForm = document.getElementById('loginForm');
    const updateForm = document.getElementById('updateForm');

    registerForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const userData = {
            name: document.getElementById('registerName').value,
            email: document.getElementById('registerEmail').value,
            password: document.getElementById('registerPassword').value
        };
        // Send user data to register endpoint
        // Placeholder, actual implementation will depend on your backend/API
    });

    loginForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const userData = {
            email: document.getElementById('loginEmail').value,
            password: document.getElementById('loginPassword').value
        };
        // Send user data to login endpoint
        // Placeholder, actual implementation will depend on your backend/API
    });

    updateForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const userId = document.getElementById('userId2').value;  // Changed the ID to avoid duplication
        const userData = {
            name: document.getElementById('updateName').value,
            email: document.getElementById('updateEmail').value,
            password: document.getElementById('updatePassword').value
        };
        // Send user data to update endpoint using userId
        // Placeholder, actual implementation will depend on your backend/API
    });
</script>


</body>
</html>
